<header class="header">
    <div class="container">
        <nav class="nav">
            <div class="nav-left">
                <a href="#" class="logo">Keertan Pothi</a>
            </div>
            <div class="header-search">
                <form class="header-search-form" (submit)="handleSearch($event)">
                    <input 
                        type="text" 
                        class="header-search-input" 
                        [(ngModel)]="searchText"
                        (input)="onSearch()"
                        (focus)="showSearchPanel = true"
                        placeholder="Sbd Kojo" 
                        name="searchText">
                    <button type="button" class="keyboard-toggle-btn" (click)="toggleKeyboard()" title="Toggle Punjabi Keyboard">
                        ðŸ”¤
                    </button>
                    <button type="submit" class="header-search-btn">Search</button>
                </form>
            </div>
        </nav>
    </div>
</header>

<!-- Punjabi Keyboard -->
<div class="punjabi-keyboard" [class.show]="showKeyboard">
    <div class="keyboard-body">
        <div class="keyboard-row" *ngFor="let row of keyboardLayout">
            <button 
                *ngFor="let key of row" 
                class="keyboard-key" 
                [class.backspace]="key === 'âŒ«'"
                [class.empty]="key === ''"
                (click)="onKeyPress(key)"
                [disabled]="key === ''">
                {{ key }}
            </button>
        </div>
    </div>
</div>

<!-- Left Tabs Bar -->
<div class="left-tabs">
  <button class="tab-btn" [class.active]="activeTab === 'links'" (click)="openSidePanel('links')">Links</button>
  <button class="tab-btn" [class.active]="activeTab === 'settings'" (click)="openSidePanel('settings')">Settings</button>
  <button class="tab-btn" [class.active]="activeTab === 'history'" (click)="openSidePanel('history')">History</button>
</div>

<!-- Side Panel -->
<div class="side-panel" [class.open]="isSidePanelOpen">
  <div class="side-panel-header">
    <h3 *ngIf="activeTab === 'links'">Links</h3>
    <h3 *ngIf="activeTab === 'settings'">Settings</h3>
    <h3 *ngIf="activeTab === 'history'">History</h3>
    <button class="close-btn" (click)="closeSidePanel()">Ã—</button>
  </div>
  <div class="side-panel-content">
    <ng-container [ngSwitch]="activeTab">
      <div *ngSwitchCase="'links'">
        <!-- Example links -->
        <a href="#" class="panel-link">Home</a>
        <a href="#" class="panel-link">About</a>
        <a href="#" class="panel-link">Contact</a>
      </div>
      <div *ngSwitchCase="'settings'">
        <!-- Example settings -->
        <label for="gurmukhiFontSize">Gurmukhi Font Size:</label>
        <input
          id="gurmukhiFontSize"
          type="range"
          min="1"
          max="3"
          step="0.05"
          [(ngModel)]="gurmukhiFontSize"
          style="vertical-align: middle; width: 120px;"
        />
        <span>{{ gurmukhiFontSize }}rem</span>
        <br>
        <label for="englishFontSize">English Font Size:</label>
        <input
          id="englishFontSize"
          type="range"
          min="0.7"
          max="2"
          step="0.05"
          [(ngModel)]="englishFontSize"
          style="vertical-align: middle; width: 120px;"
        />
        <span>{{ englishFontSize }}rem</span>
      </div>
      <div *ngSwitchCase="'history'">
        <!-- Example history -->
        <p>History content goes here.</p>
      </div>
    </ng-container>
  </div>
</div>
<div class="overlay" [class.active]="isSidePanelOpen" (click)="closeSidePanel()"></div>

<main *ngIf="showSearchPanel && filteredItems.length > 0" class="main-content">
            <!-- Filters-->
    <div class="container">
        <label>
            <input type="radio" name="searchMode" [(ngModel)]="searchMode" value="anywhere" (change)="onSearch()" /> Anywhere
        </label>
        <label style="margin-left: 1.5rem;">
            <input type="radio" name="searchMode" [(ngModel)]="searchMode" value="starts" (change)="onSearch()" /> Starts with
        </label>
    </div>
    <div class="container">
        <!-- Search Results Section -->
        <section class="results-section">
            
            <!-- Results headers-->
            <div class="results-header">
                <h2 class="results-title">Search Results</h2>
                <div class="results-meta">
                    <span class="results-count">Showing 1-{{filteredItems.length}} of {{filteredItems.length}} results</span>
                    <div class="results-sort">
                        <label for="sort">Sort by:</label>
                        <select id="sort">
                            <option value="relevance">Relevance</option>
                            <option value="date">Date</option>
                            <option value="title">Title</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Results -->
            <div class="results-grid">
                <div class="result-card" *ngFor="let item of filteredItems" (click)="onSelectItem(item)">
                    <div class="result-content">
                        <h3 class="result-title" style="font-family: 'Gurakhar', sans-serif;">{{ item.Gurmukhi }}</h3>
                    </div>
                    <div class="result-meta">
                        <span class="result-date">January 10, 2024</span>
                        <span class="result-category">Academic</span>
                    </div>
                    <div class="result-actions">
                        <button class="btn-primary">Read</button>
                    </div>
                </div>
            </div>

        </section>
    </div>
</main>
<main id="details" class="main-content" *ngIf="!showSearchPanel && selectedShabad && selectedShabad.length > 0">
    <div class="container">
        <!-- Details Header Section -->
        <section class="details-header">
            <!-- <div class="details-card"> -->
                <div class="details-main">
                    <!-- <h1 class="details-title" style="font-family: 'Gurakhar', sans-serif;">
                        {{ detailsInfo?.Gurmukhi }}
                    </h1> -->
                    <div class="details-subtitle">
                        <span class="author">{{ detailsInfo?.WriterEnglish }}</span>
                        <span class="separator">â€¢</span>
                        <span class="raag">{{ detailsInfo?.RaagEnglish }}</span>
                        <span class="separator">â€¢</span>
                        <span class="meta-label">Ang {{ detailsInfo?.PageNo }}</span>
                        <span class="separator">â€¢</span>
                        <span class="meta-label">Lines {{ selectedShabad.length }}</span>
                    </div>
                </div>
                
                <div class="details-meta">
                    
                </div>
            <!-- </div> -->
        </section>

        <!-- Content Section -->
        <section class="content-section">
            <div class="verses-container">
                <div class="verse-row" *ngFor="let verse of selectedShabad; let i = index">
                    <div class="verse-content">
                        <div class="verse-text" style="font-family: 'Gurakhar', sans-serif; font-size: {{gurmukhiFontSize}}rem;">
                            {{ verse.Gurmukhi }}
                        </div>
                        <div class="verse-translation" *ngIf="verse.English" [style.font-size.rem]="englishFontSize">
                            {{ verse.English }}
                        </div>
                    </div>
                    <!-- <div class="verse-actions">
                        <button class="verse-action-btn" title="Copy verse">ðŸ“‹</button>
                        <button class="verse-action-btn" title="Share verse">ðŸ“¤</button>
                    </div> -->
                </div>
            </div>
        </section>

    </div>
</main>

<!-- <footer class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="#about">About Us</a>
                <a href="#contact">Contact</a>
                <a href="#faq">FAQ</a>
                <a href="#support">Support</a>
            </div>
            <div class="footer-section">
                <h4>Resources</h4>
                <a href="#guide">Search Guide</a>
                <a href="#api">API Documentation</a>
                <a href="#tools">Search Tools</a>
                <a href="#tips">Tips & Tricks</a>
            </div>
            <div class="footer-section">
                <h4>Legal</h4>
                <a href="#privacy">Privacy Policy</a>
                <a href="#terms">Terms of Service</a>
                <a href="#cookies">Cookie Policy</a>
                <a href="#dmca">DMCA</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Keertan Pothi. All rights reserved.</p>
        </div>
    </div>
</footer> -->